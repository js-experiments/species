<!DOCTYPE HTML PUBLIC>
<html>
<head>
    <title>Singleton</title>
</head>
<body>
</body>
<script src="console.js"></script>
<script src="../js/species.js"></script>
<script>
    console.log('<b>/*--- SINGLETON ---*/</b>');
</script>
<script id='singleton'>

    var Singleton = Species.Class({
        Instantiated : false,
        Instance : {},
        Name : '',

        getInstance : function(name) {
            if(!Singleton.Instantiated) {
                Singleton.Instantiated = true;
                Singleton.Instance = Singleton.New(name);
            } else {
                console.log('already instantiated');
            }
            return Singleton.Instance;
        },

        initialize : function(name) {
            this.Name = name;
        }
    });

    var S1 = Singleton.getInstance('Singleton');
    var S2 = Singleton.getInstance('An other Singleton');

    console.log(S1.Name);
    console.log(S2.Name);
    console.log(Singleton.Instance.Name);

</script>
<script>
    console.code('singleton');
</script>
</html>
