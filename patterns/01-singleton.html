<!DOCTYPE HTML PUBLIC>
<html>
<head>
    <title>Singleton</title>
</head>
<body>
</body>
<script src="console.js"></script>
<script src="../js/species.js"></script>
<script>
    console.log('<b>/*--- SINGLETON ---*/</b>');
</script>
<script id='singleton'>

    var Singleton = Species.Class({
        instantiated : false,
        instance : {},
        name : '',

        getInstance : function(name) {
            if(!Singleton.instantiated) {
                Singleton.instantiated = true;
                Singleton.instance = Singleton.New(name);
            } else {
                console.log('already instantiated');
            }
            return Singleton.instance;
        },

        initialize : function(name) {
            this.name = name;
        }
    });

    var S1 = Singleton.getInstance('Singleton');
    var S2 = Singleton.getInstance('An other Singleton');

    console.log(S1.name);
    console.log(S2.name);
    console.log(Singleton.instance.name);

</script>
<script>
    console.code('singleton');
</script>
</html>
